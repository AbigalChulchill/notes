<!DOCTYPE html>
<html>
	<head>
		<title>git-stacked-rebase | notes</title>

		<link rel="shortcut icon" type="image/x-icon" href="/notes/favicon.ico">
		
		<script>
			/**
			 * if the website is mounted on a different path than the assumed "/notes",
			 * this will be needed for some links to work.
			 * 
			 * removes n paths (as specified at compile time with "depthUntilRootPage"),
			 * to make the href work again.
			 */
			document
				.querySelector('link[type="image/x-icon"]')
				.setAttribute(
					"href",
					window.location.href.replace(
													/(\/[^\/]*$){1}/, "")
													+
													"/favicon.ico"
												);
		</script>


		<style>
			/*
				first child
			*/
			ul li:nth-child(1) {
				margin-top: 8px;

				/*
				color: green;
				*/
			}

			/*
				everyone except the first child
			*/
			ul li + li {
				margin-top: 8px;

				/*
				color: blue;
				*/
			}
		</style>

		<script type="text/javascript">
			/** note - interval won't work because of this - if enabling again (unlikely), disable this: */
			var pageLoadTime = new Date();

			function updateAndSetIntervalToUpdateFor(id, initialTimeMs) {
				var el = document.getElementById(id);

				function update() {
					/**
					 * floor & divide & multiple to make the milisecond difference go away,
					 * so that if multiple functions are called,
					 * and the page is refreshed fast,
					 * all values update at the same time.
					 */
					var msAgo = pageLoadTime.getTime() - (Math.floor(initialTimeMs / 1000) * 1000);
					/* var msAgo = new Date().getTime() - initialTimeMs; */

					var secAgo =  msAgo / 1000;
					var minAgo = secAgo /   60;
					var hAgo   = minAgo /   60;
					var dayAgo =   hAgo /   24;

					dayAgo = Math.floor(dayAgo);
					hAgo   = Math.floor(  hAgo);
					minAgo = Math.floor(minAgo);
					secAgo = Math.floor(secAgo);
					msAgo  = Math.floor( msAgo);

					msAgo  = msAgo  - (secAgo * 1000);
					secAgo = secAgo - (minAgo *   60);
					minAgo = minAgo - (  hAgo *   60);
					hAgo   = hAgo   - (dayAgo *   24);
					dayAgo = dayAgo                  ;

					console.log({ id, dayAgo, hAgo, minAgo, secAgo, msAgo });

					el.textContent = dayAgo + " days, " + (hAgo) + " hours, " + (minAgo) + " mins, " + (secAgo) + " seconds" + " ago."
				};

				update();
				
				/* disabled because gives false sense of security because if actually re-generated, it won't refresh the page. */
				/* window.setInterval(update, 1000); */
			}
		</script>
		<!--
					el.textContent = "(" + dayAgo + " days, " + (hAgo) + " hours, " + (minAgo) + " mins, " + (secAgo) + " secs" + " ago)";

				window.setInterval(update, 1000);
		-->

	</head>

	<body>
		<nav>
			<!--
				TODO "in graphName"
			-->
			<a id="all-notes" href="/notes">
				all notes
			</a>
			
		<script>
			/**
			 * if the website is mounted on a different path than the assumed "/notes",
			 * this will be needed for some links to work.
			 * 
			 * removes n paths (as specified at compile time with "depthUntilRootPage"),
			 * to make the href work again.
			 */
			document
				.querySelector('a#all-notes')
				.setAttribute(
					"href",
					window.location.href.replace(
													/(\/[^\/]*$){1}/, "")
													+
													"/"
												);
		</script>

		</nav>

		<h1>
			git-stacked-rebase
		</h1>

		<small>
			<div>

				<table>
					<caption style="text-align: left; ">
						word count:
					</caption>

					<tbody>
						<tr>
							<td style="text-align: right; ">5</td>
							<td>(self)</td>
						</tr>

						<tr>
							<td style="text-align: right; ">
							5961
							</td>
							<td>
							(linked mentions)
							</td>
						</tr>

						<tr>
							<td style="text-align: right; ">
							5966
							</td>
							<td>
							(both)
							</td>
						</tr>
					</tbody>
				</table>

			</div>

			<div style="margin-top: 0.5rem; ">
				last edit (excluding linked mentions) on: <!-- TODO linked mentions too -->
				<br/>
				<span>2021-12-03T23:30:41.825Z</span>
				--
				<span id="ago-1"></span>

			</div>

			<div style="margin-top: 0.5rem; ">
				re-generated & exported on:
				<br/>
				<span>2022-01-03T20:28:18.483Z</span>
				--
				<span id="ago-2"></span>

			</div>

			<script type="text/javascript">
				updateAndSetIntervalToUpdateFor("ago-1", 1638574241825);
				updateAndSetIntervalToUpdateFor("ago-2", 1641241698483);

			</script>
		</small>

		<main>
			<ul>
				<li>
					<div style="max-width: 65ch;">
							#[[public]]
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							[[roam-traverse-graph-settings]]
					</div>
				</li>
				<li></li>
				<li>
					<div style="max-width: 65ch;">
							https://github.com/kiprasmel/git-stacked-rebase
					</div>
				</li>
				<li></li>
				<li>
					<div style="max-width: 65ch;">
							#[[(hidden) 2b6Krhy2c]]eviously
					</div>
					<ul>
						<li>
							<div style="max-width: 65ch;">
									git-multi-rebase
							</div>
						</li>
					</ul>
				</li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</main>

		<aside>
			<script>
				// var localStorageKeyOfLinkedMentionsOrder = "notes.linked-mentions-order.0yXNLSGPR";

				function toggleOrderOfLinkedMentions(btn /*, localStorageKey */) {
					var oldest = "oldest-first";
					var newest = "newest-first";

					var linkedMentions = document.getElementById("linked-mentions");
					var order = "data-order"
					var currentOrder = linkedMentions.attributes[order].value;

					if (currentOrder === oldest) {
						var newOrder = newest;

						btn.textContent = newOrder;
						// localStorage.setItem(localStorageKey, newOrder);

						linkedMentions.attributes[order].value = newOrder;
						linkedMentions.style["flex-direction"] = "column-reverse";

					} else if (currentOrder === newest) {
						var newOrder = oldest;

						btn.textContent = newOrder;
						// localStorage.setItem(localStorageKey, newOrder);

						linkedMentions.attributes[order].value = newOrder;
						linkedMentions.style["flex-direction"] = "column";
					} else {
						throw new Error("invalid order found: " + currentOrder);
					}
				}
			</script>

			<h2>
				Linked Mentions 
				(23
				in
				13
				pages)

				<button
					id="order-toggle"
					onclick="toggleOrderOfLinkedMentions(this)"
					title="shows current value. click to toggle."
				>
					newest-first
				</button>

			</h2>

			<ol
				id="linked-mentions"
				data-order="newest-first"
				style="display: flex; flex-direction: column-reverse;"
			>
				<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 4th, 2021 (4)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} to handle multiple branchEnds on the same commit, we could ask the user interactively (similar to `git add --patch`)
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} i think we'll need to save this info, similarly to how you have to do it manually w/ [[(hidden) zmiEcf1EP]] - to make sure that if someone else wants to edit (which almost never should be the case, unless ofc it's you yourself, just on a different device), then they'd have this protection already
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								what is a non-goal is protecting against editing one of the partial branches (one of the stacked diffs) - you should not do that, period, and, well, if someone does - too bad!
					ofc you can get it figured out, but you should not be editing it manually.
					perhaps then the branch name should clearly reflect it. i originally though prefixing it w/ `stack/` & then adding some more info, will see.
						</div>
					</li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				.
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} even tho it's not always necessary, it'd provide great protection to have the `.git-stacked-rebase` tracked inside the latest branch
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						e.g. if someone were to add a new branch (even you yourself, in a different device), and forgot about it - we're kinda messed up, as opposed to being able to fully recover.
				</div>
			</li>
			<li></li>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} maybe instead of re-creating branches, we could, starting from the first one (excluding the initial one), `git reset --hard` it to the previous branch (before taking safety measures ofc ofc), and then run cherry-picks from the latest branch?
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								seems like something closer to actual git rebase haha (i don't actually know but i assume and i think i've heard something similar)
						</div>
					</li>
					<li></li>
					<li>
						<div style="max-width: 65ch;">
								wait, lol, why am i misunderstanding it again myself? we're not doing anything in partial branches, we're doing everything in the latest branch, including the normal git rebase, after which we'll have an option to apply the changes into partial branches
						</div>
					</li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				the naming "boundaries" & "what's in-between them" is very good. i think i'll still keep the `branch-end` to make it clear, but when explaining how it works, it becomes very easy to understand when you say that the now gray lines with the branch names are boundaries, and what you can do is move commits between boundaries, in addition to doing regular git-rebase operations like squashing/fixing / re-ordering etc.
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						aha! this is why i myself was confused and even added the `options.addNewlineAfterBranchEnd` option - it's a completely wrong way to think about it! & when you internalize the "boundaries", you're all set.
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} re: multiple branches on 1 commit - since choosing 1 would impact what later ones are available, it'd be best to have a tree (top-down or bottom-up) w the choices available & somehow navigate-able & choose-able.
		</div>
	</li>
	<li></li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				(hidden) rPAf3rJd_ [[(hidden) orJkABRrl]] #[[(hidden) 0EJ4yRKtM]] [[(hidden) DY6wPnICE]] [[codemods]] #[[(hidden) 7c2C8PgIV]] [[roam-traverse-graph]] #[[(hidden) 2b6Krhy2c]] [[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				(hidden) XGKibrhmr #[[(hidden) S-ygYfi0j]]
		</div>
	</li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				#[[(hidden) Wk9BwS_1L]] [[git-stacked-rebase]] #[[(hidden) DY6wPnICE]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				WHAT git has `libgit2` (in C (ofc)) & SUPPORTS BINDINGS IN OTHER LANGS & THERE'S A TON, JS INCLUDED 🤯🤯🤯
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						https://libgit2.org/
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								https://github.com/nodegit/nodegit
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										https://www.nodegit.org/
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										https://www.nodegit.org/api/
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												🤯🤯🤯 
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												it's so well done wtf
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												combined w/ the original one, it's amazing
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														https://libgit2.org/libgit2/#HEAD
												</div>
											</li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						dude why is this not common knowledge? i've never seen anyone use this. this should be made very clear somewhere like git-scm or git's own source (in their Documentation/contrib or similar guide)
				</div>
			</li>
		</ul>
	</li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				#[[(hidden) Wk9BwS_1L]] #[[(hidden) jOMmlCP4S]] [[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				wrap git-rebase
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						```shell
			git config --global alias.rebaseraw = rebase
			git config --global alias.rebase = git-multi-rebase
			# idk if it'd work, todo verify```
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				when invoked (through multi-rebase or even regular rebase):
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						idk if we should have a config like in [[(hidden) zmiEcf1EP]]. 
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								perhaps, to specify which branches depend on which.
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										though, seems unnecessary, we'd only really need the ref to the oldest commit that you depend on, and then everything in between would be picked up, simply from `git log`.
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										but, this would still be useful for safety, to make sure we don't accidentally include what we don't want
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												tho, the rebase edit todo would still show the stuff, so still seems less necessary, maybe even worse if we exclude something. idk yet
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												fact is, the whole point if wrapping git rebase is that it's likely one would forget they want a multi-rebase, because the whole goal of it is to make it __feel__ like normal git-rebase, w/ `branch-end` & `new-branch-end` or similar commands added. so, having an explicit config one sets up once per the latest branch, would allow to identify if we're doing a multi-rebase, or if we should default back to the normal git-rebase.
										</div>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} would take some safety measures?
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} e.g. checking if any of the branches are not pushed to remote
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} e. g. chceking if previously a git-multi-rebase ran and wasn't applied/finished and temp branches are still there
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} etc. figure out what needs to be done
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								((EaypictfH))
						</div>
					</li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						would launch `git-rebase -i`
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								would edit the REBASE_EDIT_TODO or whatever file
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										for all sub-branches, would add `branch-end <branch-name>` command after commit that the branch is pointing at
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								would then allow the user to edit the REBASE_EDIT_TODO, just like it'd be normally done with git rebase -i
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										the user can now:
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												do the regular git rebase stuff,
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												plus they can move the `branch-end`s around
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														{{[[TODO]]}} safety measure - if user moves around 2 `branch-end`s (i.e. swaps their order), ask for explicit confirmation
												</div>
											</li>
										</ul>
									</li>
									<li>
										<div style="max-width: 65ch;">
												they can create new branches w/ `new-branch-end`
										</div>
									</li>
								</ul>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								probably would've inserted `break` in the very beginning, so that we can read the file ourselves once the user finishes editing
						</div>
					</li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				interesting, but not quite
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						https://github.com/Shopify/git-chain
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				nah, but interesting they have `git_python` pkg - when i was thinking about my own version of multi-rebase, i too though this would be useful, for javascript.
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} check if js has such lib
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						https://github.com/wsteelman/git-utilities
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				oh shit
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						reading the title of this:
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								https://0xc0d1.com/blog/git-stack/
						</div>
					</li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						dude! what i want is stacked diffs!!
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						maybe i should rename multi-rebase to stacked-rebase?
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								for initial searchability if you're in a situation similar to mine, it might be harder to find,
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								but, if you've heard about stacked diffs, maybe you'll find it even easier.
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								and, the name makes it clear very fast of what's actually going on
						</div>
					</li>
				</ul>
			</li>
			<li></li>
			<li>
				<div style="max-width: 65ch;">
						the tool itself, gh-stack, seems pretty cool, but it's github-specific, and has many things that suck about it. i want mine to be git-specific (lol), with potentially adaptors for creating new PRs, editing PR titles etc., but that's less relevant if we figure out the core functionality.
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} i also realized that `new-branch-end` (or `branch-end-new`, if `ben` is good for shortname) is a little subtle -- if you're inserting a new branch (or branches) __between 2 existing ones__ (always the case here) in the same rebase, if you e.g. have normal ordering of 1., 2., 3., etc., now you'd have to add another level, e.g. if inserting between 2. and 3., it now becomes: 1., 2.1, 2.2, 3. perhaps we don't need to modify the existing 2. into 2.1, or actually, perhaps it should be 1., 2., 3.1, 3.2, because we're taking & splitting commits from 3., not from 2. (since a number marks the __end__, __not__ the beginning.). again, how do we retain e.g. github comments here? not worth to focus on right now, but good to keep in mind.
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								obv you cannot rotate the branches on github either, because then the comments get lost / become completely irrelevant, because it's the wrong branch!
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										oh but this might still apply if you're creating new branches...
							hmm, perhaps we should __not__ focus on the branch-end-new, and only on branch-end now.
								</div>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				"git stacked rebase"
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						https://news.ycombinator.com/item?id=27305521
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								doesn't look like it
						</div>
					</li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						https://github.com/epage/git-stack
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								hmmm, maybe, but still not what i want (u still need to jump around branches, & i just want to chill /comfy/ in my latest branch)
						</div>
					</li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						https://github.com/ezyang/ghstack
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								lel, submits each commit as a PR. nope.
						</div>
					</li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 5th, 2021 (1)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} create issue @ #[[typescript]] - allow type guards, without generalizing a readonly value, thus turning it from a specific one into a union (current behavior, want to both guard __and__ have the exact type).
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						`allowedCommandAliasesFromGitRebase`
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				reading the [[(hidden) U5k5oJ6YK]] implementation of [[git-rebase]] atm.
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						...because trying to create git-rebase-todo from git-stacked-rebase's git-rebase-todo, but there's more than that file to make it work -- there's also `head-name`, `onto` (both figured out already), `head` (missing, idk what it should be set to - that's why i'm here) (needed when `git rebase --abort`).
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								abort?
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										sequencer_rollback?
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										sequencer_pick_revisions?
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								"HEAD?
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										do_recursive_merge?
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								"could not read"?
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										run_command.c | exec-cmd.c | cache.c # sane_execvp?
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										update_squash_messages?
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												`rebase_path_squash_msg()` in [L94](https://github.com/git/git/blob/abe6bb3905392d5eb6b01fa6e54d7e784e0522aa/sequencer.c#L94) of `sequencer.c`    💥 
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														there we have explanations for the various messages!
												</div>
											</li>
											<li>
												<div style="max-width: 65ch;">
														https://github.com/git/git/blob/abe6bb3905392d5eb6b01fa6e54d7e784e0522aa/sequencer.c#L53-L170
												</div>
											</li>
											<li></li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} we might as well write our variables in snake_case, will be clearer thb
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						#[[(hidden) yKrt2xLFy]] sequencer.c is huge, used in 12 commands (rather, can be used to __sequence__ any command of the available 12).
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								well actually, a few less - some builtin, some not, some tests.
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										vscode's LSP working good
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										regular (live @ repo root): branch.c, log-tree.c, rebase-interactive.c, sequencer.c itself, wt-status.c (?)
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										builtin: am.c (?), commit.c, merge.c, pull.c, rebase.c, revert.c
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										t/helper: test-fast-rebase.c
								</div>
							</li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
			<li>
				<div style="max-width: 65ch;">
						re: ((5SYschHTB))
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} gotta handle comments
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								okay, looks like the filename is incorrect - it prints `"warning: could not read '.git/rebase-merge/head': No such file or directory"`, but it looks like the actual file (when you do a proper git rebase) that gets modified is `.git/HEAD` - normally it's set to `ref: refs/heads/extraction-6-create-4th-transform-rename-style-tokens`, and in rebase, it gets set to some SHA (looks like the very first commit of the rebase, ofc).
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										did that. now we checkout into the first commit, and all files are added, what the heck?:D
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										maybe let's write into that `.git/rebase-merge/head` file even tho we can't see it?
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												OH SHIT! `git rebase --abort` worked now! though, i got checked out into the initial branch's commit :D
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												i previously set `head-name` to the latest branch's commit sha, instead of the initial branch's one
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												`interactive` file missing from me
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														also `no-reschedule-failed-exec`
												</div>
											</li>
											<li>
												<div style="max-width: 65ch;">
														also `orig-head` (`head-name` should be the ref (`refs/heads/branch-name`), and `orig-head` - the commit of the latest branch (before rebase))
												</div>
											</li>
											<li>
												<div style="max-width: 65ch;">
														SHEEESH! `rebase --edit-todo` shows up & works!!!
												</div>
												<ul>
													<li>
														<div style="max-width: 65ch;">
																 `commit --amend` also shows up, but editing it edits something wrong & my statusbar shows both rebase & ahead/behind commit counts, so something definitely wrong lmao
														</div>
													</li>
													<li>
														<div style="max-width: 65ch;">
																do i need the `index` file as well? git-rebase-todo.backup? 
														</div>
														<ul>
															<li>
																<div style="max-width: 65ch;">
																		git-rebase-todo.backup doesn't seem to help
																</div>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		index nope, identical gets generated
																</div>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		.todo -> .backup
																</div>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		head-name: head commit sha -> latest branch name
																</div>
																<ul>
																	<li>
																		<div style="max-width: 65ch;">
																				snap, i set it to initial branch's name lol
																		</div>
																		<ul>
																			<li>
																				<div style="max-width: 65ch;">
																						ok now we at least get put into the right branch if i abort. status bar still shows -20 commits and i gotta git pull
																				</div>
																			</li>
																		</ul>
																	</li>
																</ul>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		ok so in regular case, status bar shows 1/21 commits, ours doesn't. `index`?
																</div>
																<ul>
																	<li>
																		<div style="max-width: 65ch;">
																				HEAD, ORIG_HEAD?
																		</div>
																		<ul>
																			<li>
																				<div style="max-width: 65ch;">
																						`head` & `orig-head`
																				</div>
																				<ul>
																					<li>
																						<div style="max-width: 65ch;">
																								SUCCESSFULLY REBASED !!!
																						</div>
																					</li>
																				</ul>
																			</li>
																		</ul>
																	</li>
																</ul>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		`done`, `msgnum`, `end`
																</div>
																<ul>
																	<li>
																		<div style="max-width: 65ch;">
																				PROMPT WORKS!!!
																		</div>
																	</li>
																	<li>
																		<div style="max-width: 65ch;">
																				OH SHIT i just made a commit with file foo, used git-stacked-rebase to move it up (reorder), & THE REBASE WORKED !!!!!!
																		</div>
																		<ul>
																			<li>
																				<div style="max-width: 65ch;">
																						![](https://firebasestorage.googleapis.com/v0/b/firescript-577a2.appspot.com/o/imgs%2Fapp%2Fkipras-g1%2FFzGtZX-Ki2.png?alt=media&token=48e8a4e4-ef66-47ca-94c1-f142318ff54b)
																				</div>
																			</li>
																		</ul>
																	</li>
																</ul>
															</li>
															<li></li>
														</ul>
													</li>
													<li></li>
												</ul>
											</li>
											<li></li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								okay, it's gonna be tricky. at first we can try monkey-patching, tho the end user will have to be very careful - everywhere, but especially at branch boundaries lmao
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										{{[[TODO]]}} before rebasing, validate all commits in the partial branches are the same as in the latest branch.
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} as i though, we might need to use the `git rebase -i` initially to get all the stuff in the right places
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										e.g. atm, if i want to continue the rebase, i need to pass in some signature and it's not there,
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										also the `gpg_sign_opt` needs handling
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										etc
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} fuck, why is the rebase stuff so meh? will i have to handle every single operation myself?... why is there no `rebase.continue()`?...
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										thinking about using the [[(hidden) U5k5oJ6YK]] api. but, the error i was getting - it's not even mentioned anywhere in the nodegit repo, not a single word, which means that it's only in libgit2 (the C source) itself, so ain't gonna help
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								rebase.c
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										git_commit_free
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												common.h
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														"wrapper around git_object_free"
												</div>
											</li>
											<li>
												<div style="max-width: 65ch;">
														"see git_object_lookup_prefix"
												</div>
												<ul>
													<li>
														<div style="max-width: 65ch;">
																object.h
														</div>
													</li>
												</ul>
											</li>
										</ul>
									</li>
								</ul>
							</li>
							<li>
								<div style="max-width: 65ch;">
										yeah the libgit2 stuff is outdated sadly, at least for rebase... the `cmt.%` stuff - git itself does not have it...
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												git hooks?
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks
												</div>
											</li>
											<li>
												<div style="max-width: 65ch;">
														i remember when i was ((GpT9-n253)) recently -- there were some mentions of hooks. will see
												</div>
												<ul>
													<li>
														<div style="max-width: 65ch;">
																ah yes, in the sequencer: ((5SYschHTB))
														</div>
														<ul>
															<li>
																<div style="max-width: 65ch;">
																		`post-rewrite`
																</div>
																<ul>
																	<li>
																		<div style="max-width: 65ch;">
																				yep. works.
																		</div>
																	</li>
																	<li>
																		<div style="max-width: 65ch;">
																				eh, it gets called multiple times. i might as well stick to my "insert additional `break` at the very end` & handle it myself there
																		</div>
																		<ul>
																			<li>
																				<div style="max-width: 65ch;">
																						tho, it'd still have to spawn some sort of process to be able to do that...
																				</div>
																			</li>
																			<li>
																				<div style="max-width: 65ch;">
																						{{[[TODO]]}} what if instead i just wrote the `rewriten-list` into our own `stacked-rebase` dir & after it's done, the user'd have to manually call `apply`, just like we intended in the first place?
																				</div>
																				<ul>
																					<li>
																						<div style="max-width: 65ch;">
																								{{[[DONE]]}} yes
																						</div>
																					</li>
																					<li>
																						<div style="max-width: 65ch;">
																								oh, i don't even need last `break` re: ((IbBW5lqNq))
																						</div>
																					</li>
																				</ul>
																			</li>
																			<li></li>
																		</ul>
																	</li>
																	<li></li>
																</ul>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		`prepare-commit-msg`
																</div>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		`post-commit`
																</div>
															</li>
														</ul>
													</li>
													<li></li>
												</ul>
											</li>
											<li></li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 6th, 2021 (1)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				continuing the monkey-patching route
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						#[[(hidden) yKrt2xLFy]] if stopping w/ `edit` or `break` or similar, and then splitting 1 commit into multiple (e.g. `git reset @~`, git add file1 & commit, git add file2 & commit, git rebase --continue), then in the `rewritten-list`, the old commit now points to the __latest__ new commit (i.e. if you created commit1, commit2, commit3, now old commit would point to commit3).
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								what are the implications for us? i think actually good, we know that all split commits are before us, so it's good i think
						</div>
					</li>
				</ul>
			</li>
			<li></li>
			<li>
				<div style="max-width: 65ch;">
						the code is absolute garbage pile of trash. BUT. IT KINDA WORKS!!!!! 🚀🚀🚀
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} modify `branch-end`s after every regular run (if any of their earlier commits got changed) (currently only happens when doing `--apply`, otherwise progress lost)
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										yeah and now branches tend to get lost. ideally we have a list of them saved.
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										re: progress - it's either being up-to-date w/ the latest commits, or getting it reset but receiving the new commits (one or the other restriction applies until you `--apply`)
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} solve this & have both
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} or just don't have `--apply` (i.e. always apply) & make it truly native, kek
										</div>
									</li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} checkout remote branches locally if initial run
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} `-p|--push` next
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										{{[[TODO]]}} diff viewing before
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} `branch-end-new` (should be doable - get previous commit, checkout, rebase parents on top of new branch, done)
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								.
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								our goal, fundamentally, is to what commit what partial branch points to.
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										{{[[TODO]]}} have a list of branch->commit_sha (much likst rewritten-list of commits) (similarly to how we already have a backup dir), keep it updated.
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} allow comitting to share w/ other devices / even other ppl (tho 2nd not recommended)
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} if some branch name goes missing, add them to the very end and show to user that they are lost (should be pretty simple - since visibility, user can see themselves that something's wrong (tho might be less apparent if bigger change / more commits))
										</div>
									</li>
								</ul>
							</li>
							<li>
								<div style="max-width: 65ch;">
										{{[[TODO]]}} do not reset, not even rebase the latest branch. it should be the untouched one, except explicitly by the user
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												currently how im editing branches - i'm doing reset --hard, checkout, & rebase on the previous one.
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														{{[[TODO]]}} meh! could i instead edit refs directly?
												</div>
												<ul>
													<li>
														<div style="max-width: 65ch;">
																https://www.nodegit.org/api/reference/
														</div>
														<ul>
															<li>
																<div style="max-width: 65ch;">
																		updateTerminal
																</div>
															</li>
															<li>
																<div style="max-width: 65ch;">
																		peel
																</div>
																<ul>
																	<li>
																		<div style="max-width: 65ch;">
																				https://www.nodegit.org/api/object/
																		</div>
																	</li>
																</ul>
															</li>
														</ul>
													</li>
												</ul>
											</li>
										</ul>
									</li>
									<li></li>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} do both edit & apply on the same run
										</div>
										<ul>
											<li></li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 7th, 2021 (3)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				thought about placing [[git-stacked-rebase]]'s core files in a folder, and e.g. keeping the CLI in the root folder of the repo.

i'd like to keep the structure as flat as possible, so thought to maybe add prefixes and then separate w/ a dot, while still keeping it as a filename & not inside folder (e.g. `/core.gitStackedRebase.ts` instead of `/core/gitStackedRebase.ts`), but looks a little sus maybe? but it's reachable more easily

upd: okay i thought `git-stacked-rebase.gitStackedRebase.ts` so it seemed really long & strange, but now that i wrote `core.`, it seems kinda not too bad!?
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				thinking about the [[(hidden) K_zc5Rl9e]] plugin in [[roam-traverse-graph]] - would apply as well. maybe even plugins in general. will see.
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} another thought from this - instead of naming the utilities usable by other plugins `meta`, name them `core`.
				</div>
			</li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]] [[(hidden) K_zc5Rl9e]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				re: ((ECPmuH08j))
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						lol, i wanted to both use the linked reference for "clojure" ([[(hidden) d_BU9kVtB]]), and for the whole thing to be **in bold**. but that doesn't work in roam!
			and then i realized that when i'll be creating the Block's string parser, it'll need to be aware of the existing context / scope, i.e. what things wrap it already.
			i thought that you might want to walk upwards to check such things.
			and then i realized that [[(hidden) DTTuZxhoc]] (that i use for creating [[codemods]]) is exactly that. and that i could write a custom parser for roam's Block string (or, in general, any [[(hidden) XW4WLkPLe]] string i guess), and have it usable w/ jscodeshift. 🤯🤯🤯
			[[(hidden) DY6wPnICE]] / [[(hidden) lVDvvGLLj]]
			i indeed thought/knew that the 2 projects are related, but this much? wow, no.
			i guess now all 3 are:D
			also:
			- [[(hidden) DTTuZxhoc]] is created by an engineer who works/worked at [[(hidden) unlH_9R0B]].
			- [[(hidden) unlH_9R0B]] devs use [[(hidden) Qb76iqf_n]] + [[(hidden) iKtPaNgmv]] for version management (just like git)
			+ [[(hidden) Qb76iqf_n]] has [[(hidden) mgTvVDjW-]]
			HOLY SHIT x2
			it's all related (though 1 way, not both - $$\implies$$, not $$\iff$$)
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								(hidden) 2mF-JULeA #[[(hidden) 7c2C8PgIV]] #[[(hidden) 2b6Krhy2c]]
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										(hidden) BfPJvNsrx [[(hidden) DTTuZxhoc]] [[(hidden) M1UTLp3AY]]
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												(hidden) 3pB5XzgfH
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												(hidden) hL8svrdmT [[(hidden) eBB7dPivO]]
										</div>
									</li>
								</ul>
							</li>
							<li>
								<div style="max-width: 65ch;">
										(hidden) Ovq0BggUq
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										(hidden) zK1n_TgGe
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										(hidden) E7qNUIATH
								</div>
							</li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} if partial branch is behind it's remote, handle it 
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} probably print ~~warning~~ error & exit
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} ~~until we have a command to ~~ wait but that should never happen i.e. nobody should update the partial branch except for git-stacked-rebase. so idk, for now yeah just error & exit.
						</div>
					</li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} only then work on the `push` stuff
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} handle errors & exiting (e.g. `wasRebaseStillInProgress` is affected if we exit w/ exit code - git's rebase does not write to file unless it's success, but we do, and so the next run will take the edited todo, instead of generating a new one)
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} have a `stacked-rebase.unconfirmed` dir & write there while user's editing, and only after successful edit, move into the actual `stacked-rebase` dir
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								oh nvm, apparently it's working "correctly" atm. but because of the wrong reasons:D still need the above.
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										{{[[TODO]]}} find out the wrong reasons:D
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												oh it's probably because i don't `--apply` lol
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														cc ((PXIO0vUQD))
												</div>
												<ul>
													<li>
														<div style="max-width: 65ch;">
																{{[[TODO]]}} maybe add something like `-x` to both edit & apply?
														</div>
													</li>
												</ul>
											</li>
											<li></li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} instead of `process.exit(code)`, return the code instead `return code` to make the module usable by itself, and then use the returned code in the CLI itself.
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} handle incompatible args/options
		</div>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				re: ((mrZI0BkQ0))
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} let's also __not__ write to stdout, and instead return the message if it needs to be written, and to where
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								realized when noticed that calls to `process.stderr.write` are always the same - always need `"\n" + stuff + "\n\n"` - thus wanted to abstract, and then realized.
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								part of what the talk was about: ((ECPmuH08j))
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								this is especially good & well-fitting because the program is library-first / module-first, as in, it's a module, and the CLI is only something on top of it. it's good because then anyone can write tools on top of it.
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								see also this commit:
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										https://github.com/kiprasmel/git-stacked-rebase/commit/443674ea4e6f5f75996219486a241d1a0aaee2a4
								</div>
							</li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} ideally `gitStackedRebase` could be made pure, and it'd return ~~either an array of actions to take, or an array of errors~~ upd: errors can happen when taking actions, so it'd be best to return actions, since they can produce errors (we wouldn't have any errors regardless since we don't call the actions). and the the consumer can iterate on the actions.
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										again, cc ((ECPmuH08j))
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												damn, is this the default in clojure? from the talk it'd seem that it's a good, reasonable best-practice. would be kinda amazing to try & do this more.
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												[[git-stacked-rebase]] [[(hidden) K_zc5Rl9e]]
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														re: ((ECPmuH08j))
												</div>
												<ul>
													<li>
														<div style="max-width: 65ch;">
																lol, i wanted to both use the linked reference for "clojure" ([[(hidden) d_BU9kVtB]]), and for the whole thing to be **in bold**. but that doesn't work in roam!
													and then i realized that when i'll be creating the Block's string parser, it'll need to be aware of the existing context / scope, i.e. what things wrap it already.
													i thought that you might want to walk upwards to check such things.
													and then i realized that [[(hidden) DTTuZxhoc]] (that i use for creating [[codemods]]) is exactly that. and that i could write a custom parser for roam's Block string (or, in general, any [[(hidden) XW4WLkPLe]] string i guess), and have it usable w/ jscodeshift. 🤯🤯🤯
													[[(hidden) DY6wPnICE]] / [[(hidden) lVDvvGLLj]]
													i indeed thought/knew that the 2 projects are related, but this much? wow, no.
													i guess now all 3 are:D
													also:
													- [[(hidden) DTTuZxhoc]] is created by an engineer who works/worked at [[(hidden) unlH_9R0B]].
													- [[(hidden) unlH_9R0B]] devs use [[(hidden) Qb76iqf_n]] + [[(hidden) iKtPaNgmv]] for version management (just like git)
													+ [[(hidden) Qb76iqf_n]] has [[(hidden) mgTvVDjW-]]
													HOLY SHIT x2
													it's all related (though 1 way, not both - $$\implies$$, not $$\iff$$)
														</div>
														<ul>
															<li>
																<div style="max-width: 65ch;">
																		(hidden) 2mF-JULeA #[[(hidden) 7c2C8PgIV]] #[[(hidden) 2b6Krhy2c]]
																</div>
																<ul>
																	<li>
																		<div style="max-width: 65ch;">
																				(hidden) BfPJvNsrx [[(hidden) DTTuZxhoc]] [[(hidden) M1UTLp3AY]]
																		</div>
																		<ul>
																			<li>
																				<div style="max-width: 65ch;">
																						(hidden) 3pB5XzgfH
																				</div>
																			</li>
																			<li>
																				<div style="max-width: 65ch;">
																						(hidden) hL8svrdmT [[(hidden) eBB7dPivO]]
																				</div>
																			</li>
																		</ul>
																	</li>
																	<li>
																		<div style="max-width: 65ch;">
																				(hidden) Ovq0BggUq
																		</div>
																	</li>
																	<li>
																		<div style="max-width: 65ch;">
																				(hidden) zK1n_TgGe
																		</div>
																	</li>
																	<li>
																		<div style="max-width: 65ch;">
																				(hidden) E7qNUIATH
																		</div>
																	</li>
																</ul>
															</li>
															<li></li>
														</ul>
													</li>
													<li></li>
												</ul>
											</li>
											<li></li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
							<li>
								<div style="max-width: 65ch;">
										also, am very much liking the [[(hidden) U5k5oJ6YK]] way of returning a status / a boolean if success instead of an array, and taking the array as an argument (by reference, because array is object and in js, objects are taken by reference always), and appending into the array.
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} don't know if related to the previous points re: ((ECPmuH08j)). gotta study & think about it!
										</div>
									</li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} remember which branch was used so that the argument becomes optional (as long as there's only 1 stacked rebase in progress (are >1 even possible / should they?))
		</div>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} (!) check how `git log` works, and resolve the commits & branches in a similar way
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						e.g. situation - i edited a todo, i applied, but then i reset the latest branch. git-stacked-rebase still picks up the commits from the partial branches. same even if i remove stacked-rebase/ dir. git log shows them correctly. we need to be like git log.
			edit: ooh nvm, the sub-branches are still f'ed up, `git log` only shows the origin/` (remote) variants of the branches.
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} okay, so it's not a "finding commits" problem. it's a "forgetting which branches we're using in this rebase (before applying, and/or even after applying)"
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										cc ((joTBPOTgc))
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												thus, here we'd also have the "unconfirmed" branches (i.e. before --apply).
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} or, we could always have the branches, and if we see the something changed (e.g. some branch got lost), then we could offer the user to fix it
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														cc ((qsgFcVGyC))
												</div>
											</li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li>
						<div style="max-width: 65ch;">
								oh okay now it makes sense -- the problem arose.. wait, because i applied to partial branches w/o "applying" to the latest branch?
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										oh yes, makes sense! i applied to partial branches, but then reset the latest branch, so the branches are no longer pointing to the correct places. yep, then the above solutions would solve this.
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												yep. resetting the latest branch back where it was before the reset, brings the branches back in (ofc)
										</div>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
	<li></li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 9th, 2021 (1)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				lol. git-stacked-branches?
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						since e.g. i'd like to have a command to e.g. exec `make test` / `yarn test` on each branch's end (you'd to that in the git-rebase-todo w/ `x make test`), now it sound like we're not really doing rebases-only.
			well, the core concept does not change, and i will not change the name because it makes sense already.
			(!) it's just yet another interesting way to think about it -- "stacked branches" - yep, that's what they are.
			stacked branch - staked diff. cool.
				</div>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				hmm. `git-stacked-diffs` (not `git-stacked-branches` because long to type + alias `sb` would suck as well as opposed to `sd`)
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						we might want to create some utils that would seem like stacked-diffs would become a concept, and the naming would be better that way.
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						but, i think we can stay w/ stacked-rebase, because it very much makes sense, and later if we decide to, we can have another cli, `git-stacked-diffs`, that has `rebase` or `r` as a command, that just aliases `git-stacked-rebase`, and then has other commands as well
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						{{[[DONE]]}} create repo & npm package
				</div>
			</li>
		</ul>
	</li>
	<li></li>
	<li></li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 10th, 2021 (1)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				related: [[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} automatic "refactor" command - `git blame HEAD` for each line to find what commit needs to be fixed up into, commit, prepare git-rebase-todo w/ the `fixup` commands ready
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						maybe not everything is `fixup` tho so might want to be able to review the changes comfortably b4 creating the fixups
				</div>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} we could very well, after `apply`, have `check`, which would go from 1st branch to last, and could have a sub-command of `check` that would show the diff in the branch - same as we have the alias `sod`
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} on the alias - would be good to have it, but also a separate alias that would show only that branch's diff, __without__ the changes included from previous branches
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} `next` and `prev` to switch between branches / diffs
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								yep seems to make sense.
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} could even have the `current` stacked rebase ref, so that you don't even need to specify the branch you're on & the branch you're rebasing on top of, and could do just `git stacked-rebase prev` & `git stacked-rebase next` w/o any shenaningans
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										re: ((3l52fL6rH))
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												at this point, it indeed does look like `stacked-diffs` is becoming an actual concept
										</div>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 17th, 2021 (2)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} `--push -f` would help, lots of rebasing atm
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} extract `--apply` into separate fn
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} (sometime later) integration/e2e tests because atm idk if anything broke or not lol
						</div>
					</li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} `return <code>` instead of `process.exit(<code>)`
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								#[[(hidden) yKrt2xLFy]] i now fully understand the [[(hidden) U5k5oJ6YK]] pattern of returning an exit code, and if success, writing into the function argument's reference. the [[(hidden) U5k5oJ6YK]] fellas are even more [[(hidden) 50e7-uto_]] ahead than the #[[(hidden) -tqsGNIyl]] crew? 5Head
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										okay now we have created our own monad or similar, that works like a Promise. sadly, now i'd need to have a `.map` or similar like `.then`, so that in case it does fail, we don't run the "expect to succeed" part.
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										we now have a situation like this:
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												```typescript
										const goodCommands: Exitable<GoodCommand[]> = parseTodoOfStackedRebase({
											pathToStackedRebaseTodoFile,
										});
										if (goodCommands.code === ExitCode.FAIL) {
											return goodCommands;
										}
										logGoodCmds(goodCommands);
									```
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												but, "goodCommands" is wrapped inside a monad `Exitable`. it's not easy to re-cast the type, it kinda sucks checking for it; it's not even clear what we're returning.
										</div>
									</li>
								</ul>
							</li>
							<li>
								<div style="max-width: 65ch;">
										instead, imagine this:
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												```typescript
									```
										</div>
									</li>
									<li></li>
								</ul>
							</li>
							<li>
								<div style="max-width: 65ch;">
										fuck, this doesn't play well w/ [[typescript]].
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										{{[[TODO]]}} is this also what [[(hidden) pokav_dad]] is about? 👀
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										oh okay more [[(hidden) yKrt2xLFy]]s:
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												1. sad that ts cannot infer that if type is `[A | null] | [null | B]`, if you verify one side is null, then other should not be, but doesn't infer automatically yet...
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												2. could use a type assertion fn that could verify this. sadly more syntax.
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												2.1 but, i also now see where the `Some(x)` comes from in [[(hidden) KMBIAt8MO]]. damn, these people have  went thru many [[(hidden) 50e7-uto_]] haven't they?:D
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												.
										</div>
									</li>
								</ul>
							</li>
							<li>
								<div style="max-width: 65ch;">
										i guess this is the best we can do for now?
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												```typescript
									const [exit, goodCommands] = parseTodoOfStackedRebase(pathToStackedRebaseTodoFile);
									if (!goodCommands) return exit!;
									```
										</div>
									</li>
								</ul>
							</li>
							<li></li>
							<li>
								<div style="max-width: 65ch;">
										...more discoveries... and they all suck...
								</div>
							</li>
							<li>
								<div style="max-width: 65ch;">
										oooh, maybe?
								</div>
							</li>
							<li></li>
							<li>
								<div style="max-width: 65ch;">
										[[roam-traverse-graph]] [[(hidden) K_zc5Rl9e]]
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												{{[[TODO]]}} #[[(hidden) jOMmlCP4S]] have a folder w/ literally all blocks as filenames, and inside them have js/html to redirect to the actual page that contains the block lmao
										</div>
									</li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} cleanup `--help` - instead of so far to the right, have newline & some spacing (like 4 spaces or smthn)
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} hmm. think if we still want to change the args (e.g. `--apply`) into commands (e.g. `apply`) -- instead we could make them compatible w/ each other, e.g. `--apply --push --force` / `-apf`
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} fix whatever's missing from `forcePush` that gets fixed when `rebase` gets ran (w/o making any changes)
		</div>
	</li>
	<li></li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} handle case where origin/<branch> (initial branch) gets updated
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						currently get `AssertionError [ERR_ASSERTION]: very first commit has a branch.`:
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								```javascript
					AssertionError [ERR_ASSERTION]: very first commit has a branch.
					    at /Users/kiprasmelnikovas/projects/git-stacked-rebase/dist/git-stacked-rebase.js:355:34
					    at Array.map (<anonymous>)
					    at createInitialEditTodoOfGitStackedRebase (/Users/kiprasmelnikovas/projects/git-stacked-rebase/dist/git-stacked-rebase.js:353:10)
					    at async gitStackedRebase (/Users/kiprasmelnikovas/projects/git-stacked-rebase/dist/git-stacked-rebase.js:219:13) {
					  generatedMessage: false,
					  code: 'ERR_ASSERTION',
					  actual: false,
					  expected: true,
					  operator: '=='
					}```
						</div>
					</li>
					<li></li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						providing a commit also doesn't help ofc, since we need a branch
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						it seems here that we don't even detect the new initial branch and we pick up a lot of commits if not all.
				</div>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 19th, 2021 (1)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} #[[(hidden) jOMmlCP4S]] maybe have ability to back up progress remotely, e.g. similar  to [[(hidden) zOEOtYKZi]] - in a remote branch (i.e. have a branch per stacked-rebase, commit & push to it automatically when changes happen (tho allow to disable if needed))
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} 
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} [Y/n/always] for "--apply if needed"
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} tho, maybe instead of delaying, just allow to apply whenever needed? ideally yes.
				</div>
			</li>
			<li></li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} fix gpg-sign - likely will need to see how they do it internally, or use `git rebase -i` + the "break as first command" hack to create it behind the scenes (would be sadge prolly! or not since native... idk)
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						loool it's so easy & nice you literally only need to create a file `gpg_sign_opts`
				</div>
			</li>
		</ul>
	</li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 21st, 2021 (1)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} ffs, the `Exitable` stuff is bad tbh, `exit` was a `TypeError` instead of an exit code / proper error - was hard to find, no good, gotta fix.
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						and i had fixed the code that was causing this error 2 days ago already, but that's irrelevant - it's easy to make such mistakes w/ this infra, which is a no no.
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} we __really__ need e2e tests
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						also where the initial issue came from (re: [Exitable](((el1TOG8X8)))) - i just found out (by using the tool myself ofc) that i introduced a regression sometime between [that fix](((4R3-dZkR-))) (0.4.1) and now (0.5.0).
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								`git bisect` suspect - `0657970dd2303f264036606e0cdc06b6854a0104`
						</div>
						<ul>
							<li>
								<div style="max-width: 65ch;">
										figured it out - it's because in the very ending of the `gitStackedRebase`, we `markThatNeedsToApply()`, and __then__ we call `applyIfNeedsToApply()`, which, of course, will now always think that we need to apply.
							other notes:
							it makes it impossible to e.g. `edit` in the rebase-todo -  it continues (apply'ing?) w/o stopping
							and might explode if we start a new git-stacked-rebase for the first time (i.e. there's no `.git/stacked-rebase/` folder, specifically `.git/stacked-rebase/rewritten-list` file in this case)
							also, it'd be even harder to find because we'd only call the `applyIfNeedsToApply()` in the very end if `configValues.autoApplyIfNeeded` was true (design choice which made & still makes sense; it just makes the current bug harder to find)
								</div>
								<ul>
									<li>
										<div style="max-width: 65ch;">
												```typescript
											if (configValues.autoApplyIfNeeded) {
												const { userAllowedToApply } = await applyIfNeedsToApply({...})
									        }```
										</div>
									</li>
									<li>
										<div style="max-width: 65ch;">
												initial fix:
										</div>
										<ul>
											<li>
												<div style="max-width: 65ch;">
														https://github.com/kiprasmel/git-stacked-rebase/commit/6eadc9e601523fd39263de13007de56b4f7a991c
												</div>
												<ul>
													<li>
														<div style="max-width: 65ch;">
																> currently `canAndShouldBeApplying` is only in that part of the logic.
													to be fair, the problem arises only when we try to apply
													before the rebase was finished.
													but, it very well could be that the user (even tho unlikely) that user
													runs `git-stacked-rebase` while a regular `git-rebase` is in progress,
													thus causing the same issue.
													TODO so we need to handle this everywhere, and the approach might be
													different as well.
														</div>
													</li>
													<li></li>
												</ul>
											</li>
											<li></li>
										</ul>
									</li>
									<li></li>
								</ul>
							</li>
							<li></li>
						</ul>
					</li>
					<li></li>
				</ul>
			</li>
			<li>
				<div style="max-width: 65ch;">
						[[codemods]]
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} remember to extract `inlineTest` (test utils) from extraction-6 lol
						</div>
					</li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} start using the `debug` lib
		</div>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} add `--continue`, `--abort` as aliases to regular git rebase commands, for convenience
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} should we?
				</div>
			</li>
		</ul>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} file mappings fn that takes in the repo's workdir and returns the wanted file
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						or maybe just filename constants, since we'll need to pass in either the repo, or the fn that has the repo from a closure
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								unless we do dependency injection, but we don't do that here™️
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								```typescript
					// const filesNames = {
					const filenames = {
					  rewrittenList: "rewritten-list",
					} as const;```
						</div>
					</li>
				</ul>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				o fuck, just realised when updating the CLI --help message - the `prompt` for `question` is a no no, at least in the library code (in cli code would be just fine).
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} okay i think it should be fine if we take in a callback function that will get this output for the library
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						applies to general interactions (__interactive__ kek) (except ofc the git-rebase-todo file since we provide an editor already)
				</div>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} handle failures if --apply was (attempted to be) used more than once - currently errors because file missing; should print (return) info message instead
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} same w/ --force -p, etc.
				</div>
			</li>
		</ul>
	</li>
	<li></li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 22nd, 2021 (2)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} shortening some namings would make sense because they're too verbose now i think & since we've went thru quite a few different scenarios on where they're used, i think 
		</div>
	</li>
	<li></li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} i think it makes sense to get rid of the "--arg won't work if --sub-arg is not specified" notion (--push without --force, --branch-sequencer without --exec)
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						i initially thought that it's always good to remember that you're e.g. force pushing. but i now think that it's different, because of the context. you use this tool, git-stacked-rebase, to specifically work with stacked diffs (branches), and you (should) automatically expect & be aware that 1. it overwrites history, 2. you can screw yourself up a bit if you don't know what you're doing (though, since commits already exist, it'd be more of a time-consuming activity to recover them via reflog or to recover the branches to correct state or similar, if you messed up, but it's not like a permanent lost of progress).
				</div>
			</li>
			<li>
				<div style="max-width: 65ch;">
						in short, a knife is a useful tool. if you screw up you can hurt yourself.
			you cannot have good tools if you're afraid that someone not yet ready to use the tool will screw up that you oversimplify / "fool-proof" the tool so much it become useless.
			maybe better example would be nuclear power idk
			anyhow we're getting rid of the bs and making it good
				</div>
			</li>
			<li></li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} need a "what to be aware of" / "patterns to avoid with this workflow" info @ the readme.
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} especially about wanting your branches/PRs to look perfect & thus not merging them for a long time even though they could be merged (like it happened to me w/ [[codemods]] lol)
				</div>
				<ul>
					<li>
						<div style="max-width: 65ch;">
								oh i think this also highly relates to [[the innovator's dilemma (TBD)]]
						</div>
					</li>
					<li>
						<div style="max-width: 65ch;">
								{{[[TODO]]}} also likely we could come up w/ an alternative pa
						</div>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} boolean table for options compatibility?
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						yes
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} `diff`ing commands built-in? because i use my own git aliases but these specific ones are often useful when using this pattern of stacked diffs
		</div>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 23rd, 2021 (1)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				re: ((i5tnEKxMP))
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						yeah would be nice, because just found out that e.g. the `git parent` (& all others that depend on it), when in the latest branch/diff of the stacked rebase, it shows parent as the initial branch (which in this case makes sense - we rebase on top of it, and partial branches are not "technically" our parent ones, at least how the current implementation of "parent" works (hacky alias btw), so would be nice to change & improe)
				</div>
			</li>
		</ul>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} Exitable - could have `succ` & `fail` return length 3 array - 1st item would be exit code, 2nd message (stdout or stderr figured out by the exit code), and return if succ. solves most problems lol
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} branch-sequencer - somehow specifying whether to include or exclude the first & last branches (by default (already there) excludes first (initial), includes last -- all because it's how --apply and --push worked even before extracting into branchSequencer, and then afterwards as well)
		</div>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			December 26th, 2021 (2)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				see also [[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>

</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} `latest-commit-sha`
		</div>
	</li>
</ul>
		</li>
	</ul>
</li>
<li>
	<h3>
		<!--
		<span style="background-color: hsl(0, 0%, 95%); padding: 4px 16px; ">
		-->
			January 3rd, 2022 (3)
		<!--
		</span>
		-->
	</h3>
	<ul>
				<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				e.g. [[git-stacked-rebase]], the [[(hidden) U5k5oJ6YK]] way of writing the code (at least how they do it in [[(hidden) Wk9BwS_1L]] and probably [[(hidden) jGjS-p8R5]] as well), many realisations re: [[(hidden) pokav_dad]], [[(hidden) -tqsGNIyl]], etc
			</div>
			<!--
			</span>
			-->
<ul>

</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				`man git-rebase` talks about `.git/rebase-apply`, but what i have (& thus where i made stacked rebase read from) is `.git/rebase-merge` -- it is probably some config option, probably to do with fast forwarding tho not sure
		</div>
		<ul>
			<li>
				<div style="max-width: 65ch;">
						{{[[TODO]]}} figure out & make work for any case that's possible with [[(hidden) Wk9BwS_1L]]
				</div>
			</li>
		</ul>
	</li>
	<li></li>
</ul>
		</li>
		<li>
			<!--
				TODO <h4> for semantics
			-->

			<!--
			TODO add this back, once clickable.

			<span style="background-color: hsl(0, 0%, 95%); padding: 3px 6px; ">
			-->
			<div style="max-width: 65ch; ">
				[[git-stacked-rebase]]
			</div>
			<!--
			</span>
			-->
<ul>
	<li>
		<div style="max-width: 65ch;">
				{{[[DONE]]}} make `branch-end-new` work
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} related - make `--push` set upstream if a branch is new
		</div>
	</li>
	<li>
		<div style="max-width: 65ch;">
				{{[[TODO]]}} #[[(hidden) jOMmlCP4S]] just like `branch-end-new`, perhaps we'd want `pr-new` (and even `pr` for existing ones?)?
		</div>
	</li>
	<li></li>
</ul>
		</li>
	</ul>
</li>
			</ol>
		</aside>

		<footer>
			
			<center>
				exported from
				<a target="_blank" rel="noopener" href="http://roamresearch.com">
					roam</a>
				via
				<a target="_blank" rel="noopener" href="http://github.com/kiprasmel/roam-traverse-graph">
					roam-traverse-graph</a>'s
				plugin
				<a target="_blank" rel="noopener" href="http://github.com/kiprasmel/roam-traverse-graph/tree/master/plugin-export-public-pages">
					plugin-export-public-pages</a>
				by
				<a target="_blank" rel="noopener" href="http://github.com/kiprasmel">
					kiprasmel</a>.
			</center>

		</footer>
	</body>
</html>