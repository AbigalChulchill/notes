<!DOCTYPE html>
<html>
	<head>
		<title>December 7th, 2021 | notes</title>

		<link rel="shortcut icon" type="image/x-icon" href="/notes/favicon.ico">
		
		<script>
			/**
			 * if the website is mounted on a different path than the assumed "/notes",
			 * this will be needed for some links to work.
			 * 
			 * removes n paths (as specified at compile time with "depthUntilRootPage"),
			 * to make the href work again.
			 */
			document
				.querySelector('link[type="image/x-icon"]')
				.setAttribute(
					"href",
					window.location.href.replace(
													/(\/[^\/]*$){1}/, "")
													+
													"/favicon.ico"
												);
		</script>


		<style>
			/*
				first child
			*/
			ul li:nth-child(1) {
				margin-top: 8px;

				/*
				color: green;
				*/
			}

			/*
				everyone except the first child
			*/
			ul li + li {
				margin-top: 8px;

				/*
				color: blue;
				*/
			}
		</style>

		<script type="text/javascript">
			/** note - interval won't work because of this - if enabling again (unlikely), disable this: */
			var pageLoadTime = new Date();

			function updateAndSetIntervalToUpdateFor(id, initialTimeMs) {
				var el = document.getElementById(id);

				function update() {
					/**
					 * floor & divide & multiple to make the milisecond difference go away,
					 * so that if multiple functions are called,
					 * and the page is refreshed fast,
					 * all values update at the same time.
					 */
					var msAgo = pageLoadTime.getTime() - (Math.floor(initialTimeMs / 1000) * 1000);
					/* var msAgo = new Date().getTime() - initialTimeMs; */

					var secAgo =  msAgo / 1000;
					var minAgo = secAgo /   60;
					var hAgo   = minAgo /   60;
					var dayAgo =   hAgo /   24;

					dayAgo = Math.floor(dayAgo);
					hAgo   = Math.floor(  hAgo);
					minAgo = Math.floor(minAgo);
					secAgo = Math.floor(secAgo);
					msAgo  = Math.floor( msAgo);

					msAgo  = msAgo  - (secAgo * 1000);
					secAgo = secAgo - (minAgo *   60);
					minAgo = minAgo - (  hAgo *   60);
					hAgo   = hAgo   - (dayAgo *   24);
					dayAgo = dayAgo                  ;

					console.log({ id, dayAgo, hAgo, minAgo, secAgo, msAgo });

					el.textContent = dayAgo + " days, " + (hAgo) + " hours, " + (minAgo) + " mins, " + (secAgo) + " seconds" + " ago."
				};

				update();
				
				/* disabled because gives false sense of security because if actually re-generated, it won't refresh the page. */
				/* window.setInterval(update, 1000); */
			}
		</script>
		<!--
					el.textContent = "(" + dayAgo + " days, " + (hAgo) + " hours, " + (minAgo) + " mins, " + (secAgo) + " secs" + " ago)";

				window.setInterval(update, 1000);
		-->

	</head>

	<body>
		<nav>
			<!--
				TODO "in graphName"
			-->
			<a id="all-notes" href="/notes">
				all notes
			</a>
			
		<script>
			/**
			 * if the website is mounted on a different path than the assumed "/notes",
			 * this will be needed for some links to work.
			 * 
			 * removes n paths (as specified at compile time with "depthUntilRootPage"),
			 * to make the href work again.
			 */
			document
				.querySelector('a#all-notes')
				.setAttribute(
					"href",
					window.location.href.replace(
													/(\/[^\/]*$){1}/, "")
													+
													"/"
												);
		</script>

		</nav>

		<h1>
			December 7th, 2021
		</h1>

		<small>
			<div>

				<table>
					<caption style="text-align: left; ">
						word count:
					</caption>

					<tbody>
						<tr>
							<td style="text-align: right; ">741</td>
							<td>(self)</td>
						</tr>

						<tr>
							<td style="text-align: right; ">
							0
							</td>
							<td>
							(linked mentions)
							</td>
						</tr>

						<tr>
							<td style="text-align: right; ">
							741
							</td>
							<td>
							(both)
							</td>
						</tr>
					</tbody>
				</table>

			</div>

			<div style="margin-top: 0.5rem; ">
				last edit (excluding linked mentions) on: <!-- TODO linked mentions too -->
				<br/>
				<span>2021-12-06T22:03:30.763Z</span>
				--
				<span id="ago-1"></span>

			</div>

			<div style="margin-top: 0.5rem; ">
				re-generated & exported on:
				<br/>
				<span>2021-12-07T06:53:26.342Z</span>
				--
				<span id="ago-2"></span>

			</div>

			<script type="text/javascript">
				updateAndSetIntervalToUpdateFor("ago-1", 1638828210763);
				updateAndSetIntervalToUpdateFor("ago-2", 1638860006342);

			</script>
		</small>

		<main>
			<ul>
				<li>
					<div style="max-width: 65ch;">
							(hidden) JqTKidYke #[[(hidden) S-ygYfi0j]]
					</div>
					<ul>
						<li>
							<div style="max-width: 65ch;">
									(hidden) iZX9r-N9A
							</div>
						</li>
					</ul>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) xnghm1n0i
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) yWfbJ14BT
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) F05OHb0Ey
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) WHv13lkuR
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) yC78IzgQs
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) K1b0zHgMl
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) SdLr2PAsX [[(hidden) RWyP0mLVh]]
					</div>
					<ul>
						<li>
							<div style="max-width: 65ch;">
									{{[[TODO]]}} (hidden) 67BBwNSl6 
							</div>
						</li>
						<li>
							<div style="max-width: 65ch;">
									(hidden) Qbj7oqR8c
							</div>
						</li>
					</ul>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) YMHHAQycB
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) L0Ba7oBoO
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) BhUVax4P3
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							[[git-stacked-rebase]]
					</div>
					<ul>
						<li>
							<div style="max-width: 65ch;">
									{{[[TODO]]}} if partial branch is behind it's remote, handle it 
							</div>
							<ul>
								<li>
									<div style="max-width: 65ch;">
											{{[[TODO]]}} probably print ~~warning~~ error & exit
									</div>
									<ul>
										<li>
											<div style="max-width: 65ch;">
													{{[[TODO]]}} ~~until we have a command to ~~ wait but that should never happen i.e. nobody should update the partial branch except for git-stacked-rebase. so idk, for now yeah just error & exit.
											</div>
										</li>
									</ul>
								</li>
								<li>
									<div style="max-width: 65ch;">
											{{[[TODO]]}} only then work on the `push` stuff
									</div>
								</li>
							</ul>
						</li>
						<li>
							<div style="max-width: 65ch;">
									{{[[TODO]]}} handle errors & exiting (e.g. `wasRebaseStillInProgress` is affected if we exit w/ exit code - git's rebase does not write to file unless it's success, but we do, and so the next run will take the edited todo, instead of generating a new one)
							</div>
							<ul>
								<li>
									<div style="max-width: 65ch;">
											{{[[TODO]]}} have a `stacked-rebase.unconfirmed` dir & write there while user's editing, and only after successful edit, move into the actual `stacked-rebase` dir
									</div>
									<ul>
										<li>
											<div style="max-width: 65ch;">
													oh nvm, apparently it's working "correctly" atm. but because of the wrong reasons:D still need the above.
											</div>
											<ul>
												<li>
													<div style="max-width: 65ch;">
															{{[[TODO]]}} find out the wrong reasons:D
													</div>
													<ul>
														<li>
															<div style="max-width: 65ch;">
																	oh it's probably because i don't `--apply` lol
															</div>
															<ul>
																<li>
																	<div style="max-width: 65ch;">
																			cc ((PXIO0vUQD))
																	</div>
																	<ul>
																		<li>
																			<div style="max-width: 65ch;">
																					{{[[TODO]]}} maybe add something like `-x` to both edit & apply?
																			</div>
																		</li>
																	</ul>
																</li>
																<li></li>
															</ul>
														</li>
														<li></li>
													</ul>
												</li>
												<li></li>
											</ul>
										</li>
										<li></li>
									</ul>
								</li>
								<li></li>
							</ul>
						</li>
						<li>
							<div style="max-width: 65ch;">
									{{[[TODO]]}} instead of `process.exit(code)`, return the code instead `return code` to make the module usable by itself, and then use the returned code in the CLI itself.
							</div>
						</li>
						<li>
							<div style="max-width: 65ch;">
									{{[[TODO]]}} handle incompatible args/options
							</div>
						</li>
						<li></li>
						<li>
							<div style="max-width: 65ch;">
									re: ((mrZI0BkQ0))
							</div>
							<ul>
								<li>
									<div style="max-width: 65ch;">
											{{[[TODO]]}} let's also __not__ write to stdout, and instead return the message if it needs to be written, and to where
									</div>
									<ul>
										<li>
											<div style="max-width: 65ch;">
													realized when noticed that calls to `process.stderr.write` are always the same - always need `"\n" + stuff + "\n\n"` - thus wanted to abstract, and then realized.
											</div>
										</li>
										<li>
											<div style="max-width: 65ch;">
													part of what the talk was about: ((ECPmuH08j))
											</div>
										</li>
										<li>
											<div style="max-width: 65ch;">
													this is especially good & well-fitting because the program is library-first / module-first, as in, it's a module, and the CLI is only something on top of it. it's good because then anyone can write tools on top of it.
											</div>
										</li>
										<li>
											<div style="max-width: 65ch;">
													see also this commit:
											</div>
											<ul>
												<li>
													<div style="max-width: 65ch;">
															https://github.com/kiprasmel/git-stacked-rebase/commit/443674ea4e6f5f75996219486a241d1a0aaee2a4
													</div>
												</li>
											</ul>
										</li>
										<li>
											<div style="max-width: 65ch;">
													{{[[TODO]]}} ideally `gitStackedRebase` could be made pure, and it'd return ~~either an array of actions to take, or an array of errors~~ upd: errors can happen when taking actions, so it'd be best to return actions, since they can produce errors (we wouldn't have any errors regardless since we don't call the actions). and the the consumer can iterate on the actions.
											</div>
											<ul>
												<li>
													<div style="max-width: 65ch;">
															again, cc ((ECPmuH08j))
													</div>
													<ul>
														<li>
															<div style="max-width: 65ch;">
																	damn, is this the default in clojure? from the talk it'd seem that it's a good, reasonable best-practice. would be kinda amazing to try & do this more.
															</div>
														</li>
														<li>
															<div style="max-width: 65ch;">
																	[[git-stacked-rebase]] [[(hidden) K_zc5Rl9e]]
															</div>
															<ul>
																<li>
																	<div style="max-width: 65ch;">
																			re: ((ECPmuH08j))
																	</div>
																	<ul>
																		<li>
																			<div style="max-width: 65ch;">
																					lol, i wanted to both use the linked reference for "clojure" ([[(hidden) d_BU9kVtB]]), and for the whole thing to be **in bold**. but that doesn't work in roam!
																		and then i realized that when i'll be creating the Block's string parser, it'll need to be aware of the existing context / scope, i.e. what things wrap it already.
																		i thought that you might want to walk upwards to check such things.
																		and then i realized that [[(hidden) DTTuZxhoc]] (that i use for creating [[codemods]]) is exactly that. and that i could write a custom parser for roam's Block string (or, in general, any [[(hidden) XW4WLkPLe]] string i guess), and have it usable w/ jscodeshift. 🤯🤯🤯
																		[[(hidden) DY6wPnICE]] / [[(hidden) lVDvvGLLj]]
																		i indeed thought/knew that the 2 projects are related, but this much? wow, no.
																		i guess now all 3 are:D
																		also:
																		- [[(hidden) DTTuZxhoc]] is created by an engineer who works/worked at [[(hidden) unlH_9R0B]].
																		- [[(hidden) unlH_9R0B]] devs use [[(hidden) Qb76iqf_n]] + [[(hidden) iKtPaNgmv]] for version management (just like git)
																		+ [[(hidden) Qb76iqf_n]] has [[(hidden) mgTvVDjW-]]
																		HOLY SHIT x2
																		it's all related (though 1 way, not both - $$\implies$$, not $$\iff$$)
																			</div>
																			<ul>
																				<li>
																					<div style="max-width: 65ch;">
																							(hidden) 2mF-JULeA #[[(hidden) 7c2C8PgIV]] #[[(hidden) 2b6Krhy2c]]
																					</div>
																					<ul>
																						<li>
																							<div style="max-width: 65ch;">
																									(hidden) BfPJvNsrx [[(hidden) DTTuZxhoc]] [[(hidden) M1UTLp3AY]]
																							</div>
																							<ul>
																								<li>
																									<div style="max-width: 65ch;">
																											(hidden) 3pB5XzgfH
																									</div>
																								</li>
																								<li>
																									<div style="max-width: 65ch;">
																											(hidden) hL8svrdmT [[(hidden) eBB7dPivO]]
																									</div>
																								</li>
																							</ul>
																						</li>
																						<li>
																							<div style="max-width: 65ch;">
																									(hidden) Ovq0BggUq
																							</div>
																						</li>
																						<li>
																							<div style="max-width: 65ch;">
																									(hidden) zK1n_TgGe
																							</div>
																						</li>
																						<li>
																							<div style="max-width: 65ch;">
																									(hidden) E7qNUIATH
																							</div>
																						</li>
																					</ul>
																				</li>
																				<li></li>
																			</ul>
																		</li>
																		<li></li>
																	</ul>
																</li>
																<li></li>
															</ul>
														</li>
														<li></li>
													</ul>
												</li>
												<li></li>
												<li>
													<div style="max-width: 65ch;">
															also, am very much liking the #[[(hidden) U5k5oJ6YK]] way of returning a status / a boolean if success instead of an array, and taking the array as an argument (by reference, because array is object and in js, objects are taken by reference always), and appending into the array.
													</div>
													<ul>
														<li>
															<div style="max-width: 65ch;">
																	{{[[TODO]]}} don't know if related to the previous points re: ((ECPmuH08j)). gotta study & think about it!
															</div>
														</li>
													</ul>
												</li>
												<li></li>
											</ul>
										</li>
										<li></li>
									</ul>
								</li>
								<li></li>
							</ul>
						</li>
						<li></li>
					</ul>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) P_DXJKES6
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) y3kwCgtkF
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) EhBFntX8B
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) ArTjjjhqT
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) xfSzCB8-T
					</div>
				</li>
				<li>
					<div style="max-width: 65ch;">
							(hidden) HZSqzJZQr
					</div>
				</li>
			</ul>
		</main>

		<aside>
			<script>
				// var localStorageKeyOfLinkedMentionsOrder = "notes.linked-mentions-order.12-07-2021";

				function toggleOrderOfLinkedMentions(btn /*, localStorageKey */) {
					var oldest = "oldest-first";
					var newest = "newest-first";

					var linkedMentions = document.getElementById("linked-mentions");
					var order = "data-order"
					var currentOrder = linkedMentions.attributes[order].value;

					if (currentOrder === oldest) {
						var newOrder = newest;

						btn.textContent = newOrder;
						// localStorage.setItem(localStorageKey, newOrder);

						linkedMentions.attributes[order].value = newOrder;
						linkedMentions.style["flex-direction"] = "column-reverse";

					} else if (currentOrder === newest) {
						var newOrder = oldest;

						btn.textContent = newOrder;
						// localStorage.setItem(localStorageKey, newOrder);

						linkedMentions.attributes[order].value = newOrder;
						linkedMentions.style["flex-direction"] = "column";
					} else {
						throw new Error("invalid order found: " + currentOrder);
					}
				}
			</script>

			<h2>
				Linked Mentions 
				(0
				in
				0
				pages)

				<button
					id="order-toggle"
					onclick="toggleOrderOfLinkedMentions(this)"
					title="shows current value. click to toggle."
				>
					newest-first
				</button>

			</h2>

			<ol
				id="linked-mentions"
				data-order="newest-first"
				style="display: flex; flex-direction: column-reverse;"
			>
				
			</ol>
		</aside>

		<footer>
			
			<center>
				exported from
				<a target="_blank" rel="noopener" href="http://roamresearch.com">
					roam</a>
				via
				<a target="_blank" rel="noopener" href="http://github.com/kiprasmel/roam-traverse-graph">
					roam-traverse-graph</a>'s
				plugin
				<a target="_blank" rel="noopener" href="http://github.com/kiprasmel/roam-traverse-graph/tree/master/plugin-export-public-pages">
					plugin-export-public-pages</a>
				by
				<a target="_blank" rel="noopener" href="http://github.com/kiprasmel">
					kiprasmel</a>.
			</center>

		</footer>
	</body>
</html>